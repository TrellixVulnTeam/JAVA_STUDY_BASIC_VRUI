<!-- 

    querySelector("css 선택자");
    - css 선택자에 해당하는 요소 중 하나를 반환한다.
    
    querySelectorAll("css 선택자");
    - css 선택자에 해당하는 모든 요소를 다 반환한다.

    엘리먼트(요소)의 속성
    - innerHTML : <div>innerHTML</div>
      처리할 문자에 html 태그가 있는경우 적용
      
      
      - innerText : <div>innerText</div>
      처리할 문자에 html 태그가 있는경우 일반 텍스트로 표시

 -->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Insert title here</title>
    </head>
    <body>
        <h1>로또게임</h1>
        <div style="height: 50px">
            <span id="result">
    
            </span>
            <span id="roll">
    
            </span>
        </div>
        <br>
        <span id="btnBox">
            <button onclick="lotto();">로또번호 뽑기</button>
        </span>
        
        
        <script type="text/javascript">

            function lotto(){
                var resultEle = document.querySelector("#result");
                resultEle.innerHTML = "";
                doAction();

                var lottoArr = [];
                var rollCount = 0;
                function doAction() {
                    
                    var roll;
    
                    var btnBox = document.querySelector("#btnBox");
                    btnBox.innerHTML = "";
                    if(rollCount==5){
                        console.log(lottoArr);
                        btnBox.innerHTML = `<button onclick="lotto();">로또번호 뽑기</button>`;
                        return;
                    }
                    rollCount++;
    
                    var i = 1;
                    function count(){
                        i++;
                        if(i==2){
                            clearInterval(rollT);
                            for(var l of lottoArr){
                                if(l==roll){
                                    console.log("중복!")
                                    rollCount--;
                                    doAction();
                                    return;
                                }
                            }
                            lottoArr.push(roll);
                            var rollEle = document.querySelector("#roll");
                            var resultEle = document.querySelector("#result");
                            resultEle.innerHTML += rollEle.innerHTML;
                            rollEle.innerHTML = "";
                            doAction();
                        }
                    }
                    var id = setInterval(count, 500); 
    
                    var rollT = setInterval(function () {
                        var rollEle = document.querySelector("#roll");
                        roll = parseInt(Math.random()*44)+1;
                        rollEle.innerHTML = `<img src="../lottoImg/ball${roll}.gif"/>`;
                     }, 30)
                    
                }
            }
            
            
            
		</script>
    </body>
</html>